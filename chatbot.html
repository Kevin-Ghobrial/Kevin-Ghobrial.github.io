<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Chatbot</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 0; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            background-color: #f0f2f5; 
        }
        #chatbox { 
            border: 1px solid #ccc; 
            padding: 10px; 
            width: 300px; 
            height: 400px; 
            overflow-y: scroll; 
            background-color: #fff; 
            border-radius: 5px; 
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); 
        }
        .user, .bot { 
            margin: 5px 0; 
            padding: 10px; 
            border-radius: 5px; 
            max-width: 80%; 
            word-wrap: break-word; 
        }
        .user { 
            background-color: #e1f5fe; 
            align-self: flex-end; 
        }
        .bot { 
            background-color: #e8eaf6; 
            align-self: flex-start; 
        }
        #input { 
            width: calc(100% - 90px); 
            padding: 10px; 
            border: 1px solid #ccc; 
            border-radius: 5px; 
            margin-right: 10px; 
            box-sizing: border-box; 
        }
        #send { 
            width: 80px; 
            padding: 10px; 
            border: none; 
            background-color: #007bff; 
            color: white; 
            border-radius: 5px; 
            cursor: pointer; 
        }
        #send:hover { 
            background-color: #0056b3; 
        }
    </style>
</head>
<body>
    <div id="chatbox"></div>
    <div style="display: flex; align-items: center; width: 300px;">
        <input type="text" id="input" placeholder="Type a message...">
        <button id="send">Send</button>
    </div>

    <script>
        const responses = {
            greetings: {
                "hello": "Hi there! How can I help you today?",
                "hi": "Hello! What can I do for you?",
                "good morning": "Good morning! Ready to start the day?",
                "good evening": "Good evening! How's your day going?",
            },
            food: {
                "breakfast recipe": "How about trying pancakes? Mix 1 cup flour, 1 tbsp sugar, 1 tsp baking powder, 1/2 tsp salt, 1 cup milk, 1 egg, and 2 tbsp melted butter. Cook on a hot griddle until golden brown!",
                "lunch recipe": "How about a simple salad? Combine mixed greens, cherry tomatoes, cucumber, and your favorite dressing. Add grilled chicken for extra protein!",
                "dinner recipe": "Try a pasta dish! Cook your favorite pasta, and mix it with a sauce made from sautÃ©ed garlic, tomatoes, and basil.",
            },
            college: {
                "college life": "College life can be a mix of challenging and rewarding. It's a time to explore new interests, meet diverse people, and learn a lot!",
                "what are classes like": "Classes vary widely. Some may be lecture-based while others involve group work and projects. It's important to stay organized and manage your time well.",
                "how to study effectively": "Try using active study techniques like summarizing information in your own words, using flashcards, and practicing past exams.",
            },
            religion: {
                "jesus": "Jesus is central to Christianity. He is believed to be the Son of God and the savior of humanity.",
                "coptic": "Coptic Christianity is one of the oldest Christian traditions, with roots tracing back to the early Church and St. Mark the Apostle.",
                "what's the liturgy": "The liturgy is a significant part of Orthodox worship, involving prayers, hymns, and the Eucharist.",
            },
            generalKnowledge: {
                "what's the weather like": "I'm not connected to real-time data, so I can't check the weather. But I hope it's nice!",
                "what time is it": "I don't have a clock, but time is always moving forward!",
                "what's your favorite food": "Koshary! Itâ€™s an Egyptian dish and itâ€™s absolutely delicious.",
                "what's 2+2": "2+2 equals 4!",
            },
            personal: {
                "how old are you": "Age is just a number, but I was created not too long ago!",
                "what's your favorite book": "Besides the Bible, I really enjoyed 'Mere Christianity' by C.S. Lewis.",
                "do you have any hobbies": "I love playing the piano, especially church hymns, and Iâ€™m also into coding and gaming!",
            },
            fallback: "I'm not sure I understand. Could you try asking in a different way?",
        };

        const sentimentResponses = {
            positive: "I'm so glad you're feeling positive! ðŸ˜Š",
            neutral: "I'm here to help with whatever you need!",
            negative: "I'm sorry to hear that you're feeling down. How can I assist you today?",
        };

        const context = { sentiment: 'neutral' };

        function getSentimentResponse(message) {
            if (message.includes('happy') || message.includes('good')) {
                context.sentiment = 'positive';
            } else if (message.includes('sad') || message.includes('bad')) {
                context.sentiment = 'negative';
            } else {
                context.sentiment = 'neutral';
            }
            return sentimentResponses[context.sentiment];
        }

        function getBotResponse(userMessage) {
            let botMessage = responses.fallback;
            const normalizedMessage = userMessage.trim().toLowerCase();

            for (const [category, pairs] of Object.entries(responses)) {
                for (const [key, response] of Object.entries(pairs)) {
                    if (normalizedMessage.includes(key)) {
                        botMessage = response;
                        return botMessage;
                    }
                }
            }

            // Include sentiment-based response
            return getSentimentResponse(normalizedMessage);
        }

        function displayMessage(sender, message) {
            const chatbox = document.getElementById('chatbox');
            const messageElement = document.createElement('div');
            messageElement.className = sender;
            messageElement.textContent = message;
            chatbox.appendChild(messageElement);
            chatbox.scrollTop = chatbox.scrollHeight;
        }

        document.getElementById('send').addEventListener('click', () => {
            const input = document.getElementById('input');
            const userMessage = input.value;
            input.value = '';
            displayMessage('user', userMessage);

            const botMessage = getBotResponse(userMessage);
            displayMessage('bot', botMessage);
        });

        document.getElementById('input').addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                document.getElementById('send').click();
            }
        });
    </script>
</body>
</html>
